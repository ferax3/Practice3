<!DOCTYPE html>
<html lang="ua">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--need to change title-->
    <!--ALT+Z - word wrap-->
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <title>Dragons</title>
</head>
<body>
    <header class="header">
        <nav class="header_nav">
            <ul class="nav-list">
                <li><a href="index.html" class="nav-page">Головна</a></li>
                <li><a href="dragons.html" class="nav-page">Дракони</a></li>
                <li><h1 class="nav-title green-light">DL</h1></li>
                <li><a href="#" class="nav-page">Заповідник</a></li>
                <li><a href="tickets.html" class="nav-page green-light">Квитки</a></li>
            </ul>
        </nav>
    </header>
    <main class="main ticket">
        <div class="ticket-start">
            <h2 class="h2">Квитки</h2>
            <h3 class="h3 ticket-start_h3">Квитки потрібно бронювати завчасно — або по телефону, або ви можете придбати їх тут. Заповніть необхідні поля та оберіть спосіб оплати.</h3>
        </div>
        <form action="" class="form scale-in-ver-top">
            <h3 class="h3 form-title">Персональна інформація</h3>
            <div class="form-row p">
                <input type="text" name="name" placeholder="Ім'я" class="form-item form-item-all input-field">
                <input type="text" name="surname" placeholder="Прізвище" class="form-item form-item-all input-field">
                <input type="email" name="email_user" placeholder="e-mail" class="form-item form-item-all input-field">
            
                <div class="error-message"></div>
                <div class="error-message"></div>
                <div class="error-message"></div>
            </div>
            
            
            <h3 class="h3 form-title">Інформація про відвідування</h3>
            <div class="form-row p">
                <label for="">Кількість квитків: 
                    <input type="number" name="count_tickets" min="1" max="30" value="1" class="form-number">
                </label>
                <select name="activity" class="select form-item form-item-all input-field">
                    <option value="" disabled selected>Оберіть активність</option>
                    <option>Вхід до інкубатора<br> та малят-драконів</option>
                    <option>Підйом на гору</option>
                    <option>Політ на драконі</option>
                    <option>Відвідування одного місця з драконами</option>
                </select>
                <select name="select_dragon" class="select form-item form-item-all input-field">
                    <option value="" disabled selected>Оберіть дракона</option>
                    <option>Норвезький хребтоспин</option>
                    <option>Китайська метеорка</option>
                    <option>Гебридій чорний</option>
                    <option>Звичайна зелена валійка</option>
                    <option>Опалоок антиподібний</option>
                    <option>Шведська короткокрилка</option>
                    <option>Румунський довгоріг</option>
                    <option>Угорська рогохвістка</option>
                    <option>Український залізопуз</option>
                </select>
            </div>
            <div class="form-row p">
                <label> Оберіть дату візиту:
                    <input type="date" name="date_visit" class="form-item input-field" id="datePicker" onchange="restrictDays()"> 
                </label>

                <label for="">Оберіть час візиту:
                    <select name="select_time" class="select form-item form-time input-field">
                        <option value="" disabled selected>00:00</option>
                        <option>09:00</option>
                        <option>15:00</option>
                    </select>
                </label>
                <!-- <label> Оберіть час візиту:
                    <input type="time" name="time_visit" class="form-item" onchange="formatTime(this.value)">
                </label> -->

                <!-- !JS -->
                <script>
                    function restrictDays() {
                        var datePicker = document.getElementById('datePicker');
                        var selectedDate = new Date(datePicker.value);
                        var today = new Date(); // Сьогоднішня дата
                        var maxDate = new Date(today.getFullYear(), today.getMonth() + 1, today.getDate()); // Дата через місяць вперед

                        // Перевірка, чи вибрана дата не раніш або рівна сьогоднішній даті
                        if (selectedDate <= today) {
                            alert('Будь ласка, оберіть дату, яка є майбутньою.');
                            datePicker.value = ''; // Очистити поле введення, якщо вибрана дата не є майбутньою
                        } else if (selectedDate > maxDate) {
                            alert('Будь ласка, оберіть дату, яка не перевищує межу за місяць вперед.');
                            datePicker.value = ''; // Очистити поле введення, якщо вибрана дата перевищує межу за місяць вперед
                        } else if (selectedDate.getDay() !== 5 && selectedDate.getDay() !== 6) {
                            alert('Будь ласка, виберіть п\'ятницю або суботу.');
                            datePicker.value = ''; // Очистити поле введення, якщо вибраний день не є п'ятницею або суботою
                        }
                    }
                    function formatTime(value) {
                        // Розбити значення на години та хвилини
                        var parts = value.split(":");
                        var hours = parts[0];
                        var minutes = parts[1];

                        // Забезпечити, що хвилини завжди відображаються як 00
                        minutes = "00";

                        // Скласти години та хвилини назад
                        var formattedTime = hours + ":" + minutes;

                        // Присвоїти отформатований час назад у поле вводу
                        document.getElementsByName("time_visit")[0].value = formattedTime;
                    }

                    document.addEventListener('DOMContentLoaded', function () {
                        const inputFields = document.querySelectorAll('.input-field');
                        const errorMessages = document.querySelectorAll('.error-message');
                        inputFields.forEach((input, index) => {
                            input.addEventListener('input', function () {
                                if (input.value.trim() !== '') {
                                    input.style.borderColor = 'var(--green_light)';
                                    errorMessages[index].textContent = '';
                                } else {
                                    input.style.borderColor = 'var(--red)';
                                    errorMessages[index].textContent = 'Заповніть це поле!';
                                }
                            });
                        });
                    });


                </script>



            </div>
            <div class="result-form green-light">
                <h3 class="h3">Всього:</h3>
                <h3 class="h3">0 у.о.</h3>
            </div>
            <!-- !submit add -->
            <button id="button" type="submit" class="button button-form-tickets">Забронювати квитки</button>
        </form>
        <p class="p ticket-end-p">Після натиснення кнопки “Забронювати квитки” Ви отримаєте підтвердження бронювання на вказану пошту. Опісля Ви можете оплатити квитки одразу або протягом 24-х годин після підтвердження броні (за посиланням у листі з підтвердженням). Коли оплата пройде успішно, електронний лист з квитками прийде на Вашу пошту.</p>
    </main>
    <footer class="footer">
        <ul class="footer-col">
            <li><a href="index.html" class="footer-item">Головна</a></li>
            <li><a href="dragons.html" class="footer-item">Дракони</a></li>
            <li><a href="reserve.html" class="footer-item">Про заповідник</a></li>
        </ul>
        <ul class="footer-col">
            <li><a href="to-do.html" class="footer-item">Відвідування заповідника</a></li>
            <li><a href="map.html" class="footer-item">Карта заповідника</a></li>
            <li><a href="tickets.html" class="footer-item">Квитки</a></li>
        </ul>
        <div class="footer-title">DL</div>
    </footer>
</body>
</html>